version: '3.6'
services:
   app:
     build:
      context: .
     ports:
       - "8000:8888"
     volumes:
       - static:/usr/src/app/static/:rw
     depends_on:
       - mysqldb

   nginx:
     build:
      context: ./nginx
     ports:
       - "80:80"
     volumes:
       - ./static/:/usr/src/app/static/:rw
       - ./logs/:/var/log/nginx/:rw
       - ./sudukoreact/build/:/usr/share/nginx/html/:ro
       - ./nginx/samplehtml/:/usr/share/nginx/samplehtml/:ro
     depends_on:
       - app


   mysqldb: 
      image: mysql
      ports: 
        - "3306:3306"
      volumes: 
        - /home/dov/data:/var/lib/mysql
      environment:
        - MYSQL_ROOT_PASSWORD=tortola1 

volumes:
  logs:
  static:

